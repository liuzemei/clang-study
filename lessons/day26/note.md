### 遗言函数

需要注册给进程, 然后在进程正常终止的时候调用 atexit on_exit.

1. 遗言函数的调用顺序和注册顺序相反.
2. 子进程继承父进程的遗言函数
3. 调用 exec 的时候, 将原映像的所有的遗言函数移除.
4. 注册一次调用一次.

```c
waitpid(pid_t t, int *status, int options);
// =-1: 等待任意子进程的终止
// >0 : 指定要等待的子进程 pid

// <-1: pid 代表一个进程组的 id, 等待的是属于这个进程组的, 还是当前进程的子进程. 
// =0 : 等待跟当前进程同一进程组的子进程. (后期 在 作业/终端/控制台 里详解: 进程组.)

// options: 
// WNOHANG 被指定, 如果没有子进程终止, 立即返回(非阻塞)

// -1 error
// 0 代表没有子进程终止
// >0 终止了的子进程的 pid

```